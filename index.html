<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>ë¶€ë™ì‚° ìì‚° ë””ì§€í„¸ í”Œë«í¼ (real8)</title>

  <style>
    :root{
      --bg:#070b14;
      --panel:#0d1426;
      --panel2:#0b1020;
      --line:#1b2a52;
      --text:#eaf0ff;
      --muted:#a9b6de;
      --blue:#2563eb;
      --blue2:#1d4ed8;
      --gold:#f5c542;
      --shadow: 0 18px 55px rgba(0,0,0,.55);
      --radius: 16px;
    }
    *{box-sizing:border-box}
    body{
      margin:0; color:var(--text);
      font-family: system-ui,-apple-system,Segoe UI,Roboto,Arial;
      background:
        radial-gradient(1200px 600px at 20% 10%, rgba(37,99,235,.18), transparent 60%),
        radial-gradient(900px 500px at 80% 20%, rgba(245,197,66,.10), transparent 55%),
        linear-gradient(180deg, #070b14, #050812);
      min-height:100vh;
    }

    /* Top header */
    header{
      background: linear-gradient(135deg, var(--blue), var(--blue2));
      padding:22px 18px 18px;
      box-shadow: 0 12px 40px rgba(0,0,0,.35);
    }
    header .wrap{max-width:1100px;margin:0 auto}
    header h1{
      margin:0;
      font-size:28px;
      letter-spacing:-.3px;
      font-weight:800;
    }
    header p{
      margin:8px 0 0;
      color: rgba(255,255,255,.85);
      line-height:1.35;
      font-size:13px;
    }

    /* Menu */
    .menuBar{
      background: rgba(10,14,26,.92);
      border-bottom:1px solid rgba(255,255,255,.06);
      backdrop-filter: blur(8px);
    }
    .menuBar .wrap{
      max-width:1100px; margin:0 auto; padding:10px 10px;
      display:flex; gap:10px; align-items:center; overflow:auto;
    }
    .tab{
      border:1px solid rgba(255,255,255,.08);
      background: rgba(17,28,58,.55);
      color:var(--text);
      padding:10px 12px;
      border-radius: 999px;
      cursor:pointer;
      white-space:nowrap;
      font-size:13px;
      transition:.15s;
    }
    .tab:hover{transform: translateY(-1px); border-color: rgba(255,255,255,.16)}
    .tab.active{
      background: linear-gradient(135deg, rgba(245,197,66,.95), rgba(245,197,66,.70));
      color:#111;
      border-color: rgba(245,197,66,.45);
      font-weight:800;
    }

    main{max-width:1100px; margin:18px auto; padding:0 10px 30px;}
    .grid{display:grid; grid-template-columns: 1.25fr .75fr; gap:14px;}
    @media (max-width: 980px){ .grid{grid-template-columns:1fr;} }

    .card{
      background: linear-gradient(180deg, rgba(13,20,38,.92), rgba(11,16,32,.92));
      border:1px solid rgba(255,255,255,.08);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      padding:16px;
    }
    .card h2{margin:0 0 10px;font-size:18px}
    .muted{color:var(--muted); font-size:13px; line-height:1.5}
    .bullet{margin:10px 0 0; padding-left:18px}
    .bullet li{margin:6px 0; color:var(--muted); font-size:13px}
    .badge{
      display:inline-flex; gap:8px; align-items:center;
      padding:6px 10px;
      border-radius: 999px;
      border:1px solid rgba(255,255,255,.10);
      background: rgba(0,0,0,.20);
      font-size:12px; color:rgba(255,255,255,.85)
    }
    .row{display:flex; gap:10px; flex-wrap:wrap; margin-top:12px}

    /* Forms */
    label{display:block; margin:10px 0 6px; color:rgba(255,255,255,.85); font-size:12px}
    input, select, textarea{
      width:100%;
      padding:11px 12px;
      border-radius: 12px;
      border:1px solid rgba(255,255,255,.10);
      background: rgba(5,8,18,.65);
      color: var(--text);
      outline:none;
    }
    textarea{min-height:92px; resize:vertical}
    .btn{
      display:inline-flex; align-items:center; justify-content:center;
      gap:8px;
      padding:10px 12px;
      border-radius: 12px;
      border:1px solid rgba(255,255,255,.12);
      background: rgba(17,28,58,.55);
      color: var(--text);
      cursor:pointer;
      font-weight:700;
    }
    .btn.primary{
      background: linear-gradient(135deg, var(--blue), var(--blue2));
      border-color: rgba(37,99,235,.35);
    }
    .btn.gold{
      background: linear-gradient(135deg, rgba(245,197,66,.95), rgba(245,197,66,.70));
      border-color: rgba(245,197,66,.45);
      color:#111;
      font-weight:900;
    }
    .twoCol{display:grid; grid-template-columns:1fr 1fr; gap:12px}
    @media (max-width: 980px){ .twoCol{grid-template-columns:1fr;} }

    .hr{height:1px; background:rgba(255,255,255,.08); margin:14px 0}
    .note{font-size:12px; color:rgba(255,255,255,.75)}
    .success{color:#7CFFB2; font-weight:800}
    .warn{color:#ffd88a; font-weight:800}

    /* Page hide/show */
    .page{display:none}
    .page.active{display:block}
  </style>
</head>

<body>
  <header>
    <div class="wrap">
      <h1>ë¶€ë™ì‚° ìì‚° ë””ì§€í„¸ í”Œë«í¼ (real8)</h1>
      <p>
        ì¡°íšŒÂ·íšŒì› í™œë™Â·ê¸°ìˆ ê³µìœ  ê¸°ë¡ì„ ê¸°ë°˜ìœ¼ë¡œ í† í°/ì½”ì¸ì„ ë°œìƒì‹œí‚¤ê³ , ë¸”ë¡ì²´ì¸(ê°œë…) í•´ì‹œê°’ì„ ë‚¨ê¸°ê¸° ìœ„í•œ
        ì‚¬ì—…ìš© ì‹œë²” ì‚¬ì´íŠ¸ì…ë‹ˆë‹¤.
      </p>
    </div>
  </header>

  <div class="menuBar">
    <div class="wrap" id="tabs">
      <button class="tab active" data-page="home">íšŒì›ê°€ì…Â·ë¡œê·¸ì¸Â·ìì‚° ì•ˆë‚´</button>
      <button class="tab" data-page="admin">ë¸”ë¡ì²´ì¸Â·ì½”ì¸ê´€ë¦¬(ê´€ë¦¬ì)</button>
      <button class="tab" data-page="trade">ê±´ì¶•Â·ë§¤ë§¤Â·ì„ëŒ€Â·ë°”ê¿”ì‚´ê¸°(ì •ë³´ ë“±ë¡)</button>
      <button class="tab" data-page="virtual">ê°€ìƒê±´ì¶• ì œì•ˆÂ·ì‚´ì´</button>
      <button class="tab" data-page="talk">ëŒ€í™”(ì •ë³´ ê³µìœ )</button>
      <button class="tab" data-page="ads">ê´‘ê³ Â·í™ë³´ ê³„ì •</button>
    </div>
  </div>

  <main>
    <!-- HOME -->
    <section id="home" class="page active">
      <div class="grid">
        <div class="card">
          <div class="row">
            <span class="badge">ğŸ  í™ˆ Â· íšŒì›ê°€ì… Â· ë¡œê·¸ì¸ Â· ìì‚° ì•ˆë‚´</span>
            <span class="badge">ğŸ”’ ì €ì¥: ë¸Œë¼ìš°ì €(LocalStorage) ë°ëª¨</span>
          </div>

          <h2 style="margin-top:12px">ì‚¬ì´íŠ¸ êµ¬ì„± ë° ê° í˜ì´ì§€ ì‚¬ìš© ì„¤ëª…</h2>
          <ul class="bullet">
            <li><b>ë¸”ë¡ì²´ì¸Â·ì½”ì¸ê´€ë¦¬(ê´€ë¦¬ì)</b>: ê´€ë¦¬ìê°€ í† í°/ì½”ì¸ ì§€ê¸‰ ê¸°ì¤€(%)ì„ ì„¤ì •í•˜ê³  ë°ëª¨ í•´ì‹œë¥¼ ìƒì„±í•©ë‹ˆë‹¤.</li>
            <li><b>ê±´ì¶•Â·ë§¤ë§¤Â·ì„ëŒ€Â·ë°”ê¿”ì‚´ê¸°</b>: íšŒì›ì´ ì…ë ¥í•œ ì •ë³´ë¥¼ â€œì €ì¥â€í•˜ë©´(ì—°ìŠµ) ì½”ì¸/í† í°ì´ ìë™ ê³„ì‚°ë©ë‹ˆë‹¤.</li>
            <li><b>ê°€ìƒê±´ì¶• ì œì•ˆ</b>: ê¸€/ì‚¬ì§„(ì„ íƒ)ì„ ì˜¬ë¦¬ëŠ” í˜•íƒœì˜ ì œì•ˆ ê²Œì‹œíŒ(ë°ëª¨)ì…ë‹ˆë‹¤.</li>
            <li><b>ëŒ€í™”(ì •ë³´ ê³µìœ )</b>: ê°„ë‹¨í•œ ëŒ€í™”/ëŒ“ê¸€ í˜•íƒœ(ë°ëª¨)ì…ë‹ˆë‹¤.</li>
            <li><b>ê´‘ê³ Â·í™ë³´ ê³„ì •</b>: ê´‘ê³ ì£¼ ê³„ì •/ë“±ë¡ êµ¬ì¡°(ë°ëª¨)ì…ë‹ˆë‹¤.</li>
          </ul>
          <div class="hr"></div>
          <p class="note">
            â€» í˜„ì¬ ë²„ì „ì€ <b>ë¸Œë¼ìš°ì €(LocalStorage)</b>ì—ë§Œ ì €ì¥ë©ë‹ˆë‹¤. ì‹¤ì„œë¹„ìŠ¤ëŠ” ì„œë²„Â·DBÂ·ë³´ì•ˆÂ·ë²•ì  ê²€í† ê°€ í•„ìš”í•©ë‹ˆë‹¤.
          </p>
        </div>

        <div class="card">
          <h2>íšŒì›ê°€ì… ë° ë¡œê·¸ì¸</h2>
          <p class="muted">ì´ ë¸”ë¡ì€ â€œí™”ë©´ì„ ì‚¬ì—…ìš©ì²˜ëŸ¼ ë³´ì´ê²Œ í•˜ëŠ”â€ ê¸°ë³¸ íšŒì› UIì…ë‹ˆë‹¤(ë°ëª¨).</p>

          <div class="twoCol">
            <div>
              <h3 style="margin:6px 0 8px;font-size:14px">ë¡œê·¸ì¸</h3>
              <label>ì•„ì´ë””</label>
              <input id="loginId" placeholder="ì˜ˆ: jung" />
              <label>ë¹„ë°€ë²ˆí˜¸</label>
              <input id="loginPw" type="password" placeholder="â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢" />
              <div class="row">
                <button class="btn primary" id="btnLogin">ë¡œê·¸ì¸</button>
                <button class="btn" id="btnLogout">ë¡œê·¸ì•„ì›ƒ</button>
              </div>
              <p id="loginMsg" class="note"></p>
            </div>

            <div>
              <h3 style="margin:6px 0 8px;font-size:14px">íšŒì›ê°€ì…</h3>
              <label>ì•„ì´ë””</label>
              <input id="regId" placeholder="ì˜ˆ: hong" />
              <label>ë¹„ë°€ë²ˆí˜¸</label>
              <input id="regPw" type="password" placeholder="â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢" />
              <div class="row">
                <button class="btn gold" id="btnReg">íšŒì›ê°€ì…</button>
              </div>
              <p id="regMsg" class="note"></p>
            </div>
          </div>

          <div class="hr"></div>
          <p class="muted">í˜„ì¬ ë¡œê·¸ì¸: <b id="who" class="warn">ì—†ìŒ</b></p>
        </div>
      </div>
    </section>

    <!-- ADMIN -->
    <section id="admin" class="page">
      <div class="grid">
        <div class="card">
          <h2>ë¸”ë¡ì²´ì¸Â·ì½”ì¸ê´€ë¦¬(ê´€ë¦¬ì) â€” ë°ëª¨</h2>
          <p class="muted">ê´€ë¦¬ìê°€ ì§€ê¸‰ ê¸°ì¤€ì„ ì •í•˜ê³ , í•´ì‹œë¥¼ ìƒì„±í•´ â€œê¸°ë¡â€ì„ ë‚¨ê¸°ëŠ” í˜•íƒœ(ê°œë…)ì…ë‹ˆë‹¤.</p>

          <div class="twoCol">
            <div>
              <label>í† í° ì§€ê¸‰(ì˜ˆ: ì¡°íšŒ/ëŒ“ê¸€ ë“±) ê¸°ë³¸ê°’</label>
              <input id="ruleToken" type="number" min="0" value="5" />
              <label>ì½”ì¸ ì§€ê¸‰(ì˜ˆ: ê±°ë˜/ë“±ë¡ ì™„ë£Œ) ê¸°ë³¸ê°’</label>
              <input id="ruleCoin" type="number" min="0" value="10" />
              <div class="row">
                <button class="btn primary" id="saveRules">ê¸°ì¤€ ì €ì¥</button>
              </div>
              <p id="ruleMsg" class="note"></p>
            </div>

            <div>
              <label>í•´ì‹œ ìƒì„±(ë°ëª¨)</label>
              <input id="hashSeed" placeholder="ì˜ˆ: admin|timestamp|data" />
              <div class="row">
                <button class="btn" id="makeHash">í•´ì‹œ ìƒì„±</button>
              </div>
              <p class="muted">í•´ì‹œ: <b id="hashOut">-</b></p>
            </div>
          </div>
        </div>

        <div class="card">
          <h2>ê´€ë¦¬ì ìš”ì•½</h2>
          <p class="muted">ì €ì¥ëœ ê¸°ì¤€:</p>
          <ul class="bullet">
            <li>í† í° ê¸°ì¤€: <b id="sumToken">-</b></li>
            <li>ì½”ì¸ ê¸°ì¤€: <b id="sumCoin">-</b></li>
          </ul>
        </div>
      </div>
    </section>

    <!-- TRADE -->
    <section id="trade" class="page">
      <div class="card">
        <h2>ê±´ì¶•Â·ë§¤ë§¤Â·ì„ëŒ€Â·ë°”ê¿”ì‚´ê¸° (ì •ë³´ ë“±ë¡) â€” ì—°ìŠµ</h2>
        <p class="muted">ì£¼ì†Œ/ê°€ê²© ë“±ì„ ì…ë ¥í•˜ê³  â€œì €ì¥â€í•˜ë©´, ê´€ë¦¬ì ê¸°ì¤€ì— ë”°ë¼ í† í°/ì½”ì¸ì„ ê³„ì‚°í•´ ë³´ì—¬ì¤ë‹ˆë‹¤(ë°ëª¨).</p>

        <div class="twoCol">
          <div>
            <label>ì£¼ì†Œ</label>
            <input id="addr" placeholder="ì˜ˆ: ì„œìš¸ ê°•ë‚¨êµ¬ â€¦" />
            <label>ìœ í˜•</label>
            <select id="type">
              <option>ê±´ì¶•</option><option>ë§¤ë§¤</option><option>ì„ëŒ€</option><option>ë°”ê¿”ì‚´ê¸°</option>
            </select>
            <label>ê¸ˆì•¡(ë§Œì›)</label>
            <input id="price" type="number" min="0" value="0" />
            <div class="row">
              <button class="btn primary" id="saveTrade">ì €ì¥</button>
            </div>
            <p id="tradeMsg" class="note"></p>
          </div>

          <div>
            <h3 style="margin:6px 0 8px;font-size:14px">ìë™ ê³„ì‚°(ë°ëª¨)</h3>
            <ul class="bullet">
              <li>í† í° ì¦ê°€: <b id="calcToken">0</b></li>
              <li>ì½”ì¸ ì¦ê°€: <b id="calcCoin">0</b></li>
              <li>ëˆ„ì  í† í°: <b id="totalToken">0</b></li>
              <li>ëˆ„ì  ì½”ì¸: <b id="totalCoin">0</b></li>
            </ul>
            <p class="note">â€» ëˆ„ì ì€ ë¸Œë¼ìš°ì €ì— ì €ì¥ë©ë‹ˆë‹¤.</p>
          </div>
        </div>
      </div>
    </section>

    <!-- VIRTUAL -->
    <section id="virtual" class="page">
      <div class="grid">
        <div class="card">
          <h2>ê°€ìƒê±´ì¶• ì œì•ˆÂ·ì‚´ì´ â€” ë°ëª¨</h2>
          <p class="muted">ì œì•ˆ ê¸€ì„ ì €ì¥í•˜ë©´ ëª©ë¡ì— ìŒ“ì´ëŠ” í˜•íƒœ(ë°ëª¨)ì…ë‹ˆë‹¤.</p>
          <label>ì œëª©</label>
          <input id="vTitle" placeholder="ì˜ˆ: ê°€ìƒ ê±´ì¶• ì•„ì´ë””ì–´ 1" />
          <label>ë‚´ìš©</label>
          <textarea id="vBody" placeholder="ì•„ì´ë””ì–´ / ì„¤ê³„ / ì˜ˆìƒ ê±°ì£¼ ë°©ì‹ ë“±"></textarea>
          <div class="row">
            <button class="btn primary" id="vSave">ë“±ë¡</button>
          </div>
          <p id="vMsg" class="note"></p>
        </div>

        <div class="card">
          <h2>ì œì•ˆ ëª©ë¡</h2>
          <div id="vList" class="muted">ì•„ì§ ë“±ë¡ëœ ì œì•ˆì´ ì—†ìŠµë‹ˆë‹¤.</div>
        </div>
      </div>
    </section>

    <!-- TALK -->
    <section id="talk" class="page">
      <div class="card">
        <h2>ëŒ€í™”(ì •ë³´ ê³µìœ ) â€” ë°ëª¨</h2>
        <p class="muted">ê°„ë‹¨ ëŒ“ê¸€ í˜•ì‹ì…ë‹ˆë‹¤.</p>
        <label>ë©”ì‹œì§€</label>
        <input id="tMsg" placeholder="ë‚´ìš©ì„ ì…ë ¥í•˜ì„¸ìš”" />
        <div class="row">
          <button class="btn primary" id="tSend">ë“±ë¡</button>
        </div>
        <div class="hr"></div>
        <div id="tList" class="muted">ì•„ì§ ëŒ€í™”ê°€ ì—†ìŠµë‹ˆë‹¤.</div>
      </div>
    </section>

    <!-- ADS -->
    <section id="ads" class="page">
      <div class="grid">
        <div class="card">
          <h2>ê´‘ê³ Â·í™ë³´ ê³„ì • â€” ë°ëª¨</h2>
          <p class="muted">ê´‘ê³ ì£¼ê°€ í™ë³´ ë¬¸êµ¬ë¥¼ ë“±ë¡í•˜ëŠ” í˜•íƒœ(ì—°ìŠµ)ì…ë‹ˆë‹¤.</p>
          <label>ê´‘ê³ ì£¼/ë¸Œëœë“œ</label>
          <input id="aBrand" placeholder="ì˜ˆ: Real8 Partners" />
          <label>í™ë³´ ë¬¸êµ¬</label>
          <textarea id="aCopy" placeholder="ì˜ˆ: ë¶€ë™ì‚° ìì‚° ë””ì§€í„¸í™”â€¦"></textarea>
          <div class="row">
            <button class="btn gold" id="aSave">ê´‘ê³  ë“±ë¡</button>
          </div>
          <p id="aMsg" class="note"></p>
        </div>

        <div class="card">
          <h2>ë“±ë¡ëœ ê´‘ê³ </h2>
          <div id="aList" class="muted">ì•„ì§ ê´‘ê³ ê°€ ì—†ìŠµë‹ˆë‹¤.</div>
        </div>
      </div>
    </section>
  </main>

  <script>
    // ---- Tabs (SPA) ----
    const tabs = document.querySelectorAll('.tab');
    const pages = document.querySelectorAll('.page');
    function show(id){
      pages.forEach(p => p.classList.toggle('active', p.id===id));
      tabs.forEach(t => t.classList.toggle('active', t.dataset.page===id));
      window.scrollTo({top:0, behavior:'smooth'});
    }
    tabs.forEach(t => t.addEventListener('click', ()=>show(t.dataset.page)));

    // ---- Auth (demo) ----
    const LS = (k,v)=> v===undefined ? localStorage.getItem(k) : localStorage.setItem(k,v);
    const who = document.getElementById('who');
    function setWho(){
      const u = LS('real8_user') || '';
      who.textContent = u ? u : 'ì—†ìŒ';
      who.className = u ? 'success' : 'warn';
    }
    setWho();

    document.getElementById('btnReg').addEventListener('click', ()=>{
      const id = document.getElementById('regId').value.trim();
      const pw = document.getElementById('regPw').value.trim();
      const msg = document.getElementById('regMsg');
      if(!id || !pw){ msg.textContent='ì•„ì´ë””/ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥í•˜ì„¸ìš”.'; return; }
      LS('real8_account_'+id, pw);
      msg.textContent='íšŒì›ê°€ì… ì™„ë£Œ(ë°ëª¨). ì´ì œ ë¡œê·¸ì¸í•˜ì„¸ìš”.';
    });

    document.getElementById('btnLogin').addEventListener('click', ()=>{
      const id = document.getElementById('loginId').value.trim();
      const pw = document.getElementById('loginPw').value.trim();
      const msg = document.getElementById('loginMsg');
      const saved = LS('real8_account_'+id);
      if(!saved){ msg.textContent='í•´ë‹¹ ì•„ì´ë””ê°€ ì—†ìŠµë‹ˆë‹¤(ë°ëª¨).'; return; }
      if(saved!==pw){ msg.textContent='ë¹„ë°€ë²ˆí˜¸ê°€ ë‹¤ë¦…ë‹ˆë‹¤.'; return; }
      LS('real8_user', id);
      msg.textContent='ë¡œê·¸ì¸ ì„±ê³µ!';
      setWho();
    });

    document.getElementById('btnLogout').addEventListener('click', ()=>{
      localStorage.removeItem('real8_user');
      document.getElementById('loginMsg').textContent='ë¡œê·¸ì•„ì›ƒ í–ˆìŠµë‹ˆë‹¤.';
      setWho();
    });

    // ---- Admin rules ----
    function loadRules(){
      const t = Number(LS('real8_rule_token') || 5);
      const c = Number(LS('real8_rule_coin') || 10);
      document.getElementById('ruleToken').value = t;
      document.getElementById('ruleCoin').value = c;
      document.getElementById('sumToken').textContent = t;
      document.getElementById('sumCoin').textContent = c;
    }
    loadRules();

    document.getElementById('saveRules').addEventListener('click', ()=>{
      LS('real8_rule_token', document.getElementById('ruleToken').value);
      LS('real8_rule_coin', document.getElementById('ruleCoin').value);
      document.getElementById('ruleMsg').textContent='ê¸°ì¤€ ì €ì¥ ì™„ë£Œ.';
      loadRules();
    });

    document.getElementById('makeHash').addEventListener('click', async ()=>{
      const seed = (document.getElementById('hashSeed').value.trim() || ('admin|'+Date.now()));
      const buf = await crypto.subtle.digest('SHA-256', new TextEncoder().encode(seed));
      const hex = [...new Uint8Array(buf)].map(b=>b.toString(16).padStart(2,'0')).join('');
      document.getElementById('hashOut').textContent = hex.slice(0,40) + '...';
    });

    // ---- Trade save & reward (demo) ----
    function getTotals(){
      return {
        token: Number(LS('real8_total_token') || 0),
        coin: Number(LS('real8_total_coin') || 0),
      };
    }
    function setTotals(t,c){
      LS('real8_total_token', String(t));
      LS('real8_total_coin', String(c));
    }
    function refreshTotalsUI(){
      const tot = getTotals();
      document.getElementById('totalToken').textContent = tot.token;
      document.getElementById('totalCoin').textContent = tot.coin;
    }
    refreshTotalsUI();

    document.getElementById('saveTrade').addEventListener('click', ()=>{
      const addr = document.getElementById('addr').value.trim();
      const price = Number(document.getElementById('price').value || 0);
      const ruleT = Number(LS('real8_rule_token') || 5);
      const ruleC = Number(LS('real8_rule_coin') || 10);

      // ë°ëª¨ ê³„ì‚°: ê¸ˆì•¡ì´ ìˆìœ¼ë©´ ì½”ì¸ ë”, ì €ì¥í•˜ë©´ í† í° ì•½ê°„
      const addToken = ruleT + Math.min(10, Math.floor(price/1000));
      const addCoin  = (price>0) ? (ruleC + Math.min(50, Math.floor(price/500))) : ruleC;

      document.getElementById('calcToken').textContent = addToken;
      document.getElementById('calcCoin').textContent = addCoin;

      const tot = getTotals();
      setTotals(tot.token + addToken, tot.coin + addCoin);
      refreshTotalsUI();

      LS('real8_last_addr', addr);
      document.getElementById('tradeMsg').textContent = 'ì €ì¥ ì™„ë£Œ(ë°ëª¨) Â· í† í°/ì½”ì¸ ì§€ê¸‰ ë°˜ì˜ë¨.';
    });

    // ---- Virtual proposals ----
    function loadV(){
      const raw = LS('real8_virtual') || '[]';
      let arr = [];
      try{arr = JSON.parse(raw);}catch(e){}
      const box = document.getElementById('vList');
      if(!arr.length){ box.textContent='ì•„ì§ ë“±ë¡ëœ ì œì•ˆì´ ì—†ìŠµë‹ˆë‹¤.'; return; }
      box.innerHTML = arr.map(x=>`
        <div class="card" style="box-shadow:none;margin:10px 0;padding:12px;border-radius:12px">
          <b>${escapeHtml(x.title)}</b>
          <div class="muted" style="margin-top:6px">${escapeHtml(x.body)}</div>
          <div class="note" style="margin-top:6px">ì‘ì„±: ${escapeHtml(x.by)} Â· ${new Date(x.at).toLocaleString()}</div>
        </div>
      `).join('');
    }
    loadV();

    document.getElementById('vSave').addEventListener('click', ()=>{
      const title = document.getElementById('vTitle').value.trim();
      const body  = document.getElementById('vBody').value.trim();
      const by = LS('real8_user') || 'ìµëª…';
      if(!title || !body){ document.getElementById('vMsg').textContent='ì œëª©/ë‚´ìš©ì„ ì…ë ¥í•˜ì„¸ìš”.'; return; }
      let arr=[]; try{arr=JSON.parse(LS('real8_virtual')||'[]');}catch(e){}
      arr.unshift({title, body, by, at: Date.now()});
      LS('real8_virtual', JSON.stringify(arr));
      document.getElementById('vMsg').textContent='ë“±ë¡ ì™„ë£Œ.';
      document.getElementById('vTitle').value='';
      document.getElementById('vBody').value='';
      loadV();
    });

    // ---- Talk ----
    function loadT(){
      let arr=[]; try{arr=JSON.parse(LS('real8_talk')||'[]');}catch(e){}
      const box = document.getElementById('tList');
      if(!arr.length){ box.textContent='ì•„ì§ ëŒ€í™”ê°€ ì—†ìŠµë‹ˆë‹¤.'; return; }
      box.innerHTML = arr.map(x=>`
        <div class="card" style="box-shadow:none;margin:10px 0;padding:12px;border-radius:12px">
          <b>${escapeHtml(x.by)}</b> <span class="note">Â· ${new Date(x.at).toLocaleString()}</span>
          <div class="muted" style="margin-top:6px">${escapeHtml(x.msg)}</div>
        </div>
      `).join('');
    }
    loadT();

    document.getElementById('tSend').addEventListener('click', ()=>{
      const msg = document.getElementById('tMsg').value.trim();
      const by = LS('real8_user') || 'ìµëª…';
      if(!msg) return;
      let arr=[]; try{arr=JSON.parse(LS('real8_talk')||'[]');}catch(e){}
      arr.unshift({by, msg, at: Date.now()});
      LS('real8_talk', JSON.stringify(arr));
      document.getElementById('tMsg').value='';
      loadT();
    });

    // ---- Ads ----
    function loadA(){
      let arr=[]; try{arr=JSON.parse(LS('real8_ads')||'[]');}catch(e){}
      const box = document.getElementById('aList');
      if(!arr.length){ box.textContent='ì•„ì§ ê´‘ê³ ê°€ ì—†ìŠµë‹ˆë‹¤.'; return; }
      box.innerHTML = arr.map(x=>`
        <div class="card" style="box-shadow:none;margin:10px 0;padding:12px;border-radius:12px">
          <b>${escapeHtml(x.brand)}</b>
          <div class="muted" style="margin-top:6px">${escapeHtml(x.copy)}</div>
          <div class="note" style="margin-top:6px">ë“±ë¡: ${new Date(x.at).toLocaleString()}</div>
        </div>
      `).join('');
    }
    loadA();

    document.getElementById('aSave').addEventListener('click', ()=>{
      const brand = document.getElementById('aBrand').value.trim();
      const copy  = document.getElementById('aCopy').value.trim();
      if(!brand || !copy){ document.getElementById('aMsg').textContent='ë¸Œëœë“œ/ë¬¸êµ¬ë¥¼ ì…ë ¥í•˜ì„¸ìš”.'; return; }
      let arr=[]; try{arr=JSON.parse(LS('real8_ads')||'[]');}catch(e){}
      arr.unshift({brand, copy, at: Date.now()});
      LS('real8_ads', JSON.stringify(arr));
      document.getElementById('aMsg').textContent='ê´‘ê³  ë“±ë¡ ì™„ë£Œ.';
      document.getElementById('aBrand').value='';
      document.getElementById('aCopy').value='';
      loadA();
    });

    function escapeHtml(s){
      return String(s).replace(/[&<>"']/g, m => ({
        '&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#39;'
      }[m]));
    }
  </script>
</body>
</html>

